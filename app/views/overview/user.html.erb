<% title "User Overview" %>

<!-- Page Heading -->
<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">User Overview</h1>
	</div>
</div>
<!-- /.row -->

<div class="row">

	<div class="col-lg-3 col-md-3 col-sm-12">
		<div class="thumbnail">
			<img src="<%= @profile.avatar_url %>" alt="">
		</div>
	</div>

	<div class="col-lg-5 col-md-5 col-sm-12">
		<ul class="list-group">
			<li class="list-group-item">
				<h4 class="text-center">User Profile</h4>
			</li>
			<li class="list-group-item">
				Username: <%= @profile.user_name%>
			</li>
			<li class="list-group-item">
				College : <%= @profile.college_name %>
			</li>
			<li class="list-group-item">
				Course  : <%= @profile.course_name %>
			</li>
			<li class="list-group-item">
				Year    : <%= @profile.year %>
			</li>
			<li class="list-group-item">
				Level   : <%= @level.name %>
			</li>
		</ul>
	</div>

	<div class="col-lg-4 col-md-4 col-sm-12">

		<ul class="list-group">
			<li class="list-group-item">
				<h4 class="text-center">User Stats</h4>
			</li>
			<li class="list-group-item">
				Total Quizess   : <%= @quiz_count rescue '0'%>
			</li>
			<li class="list-group-item">
				Average Score   : <%= number_to_percentage(@average, precision: 0) rescue '0'%>
			</li>
			<li class="list-group-item">
				Average duration: <%= @avg_duration%>
			</li>
			<li class="list-group-item">
				Highest result  : <%= number_to_percentage(@highest_result.grade, precision: 0) rescue '0%'%>
			</li>
			<li class="list-group-item">
				Lowest result   : <%= number_to_percentage(@lowest_result.grade, precision: 0) rescue '0%'%>
			</li>
		</ul>
	</div>

</div>

<div class="row">
	<div class=" col-lg-3 col-md-offset-9">
		<div class="btn-group btn-group-justified" role="group" aria-label="...">
			<div class="btn-group" role="group">
				<%= link_to "Edit Profile", edit_profile_path(@profile.id) , :class => 'btn btn-success btn-large' , :role => 'button'%>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-12">
		<h3 class="page-header">Features</h3>
	</div>
</div>

<div class="row">
	<div class="col-md-3 col-sm-6 hero-feature">
		<div class="thumbnail">
			<div class="caption">
				<h4 class="text-center">Assessment</h4>
				<p class="text-muted">
					Take an Assessment and find what level suits you
				</p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<%= link_to "Take Assessment", quiz_create_path(:test_type => 1) , :class => 'btn btn-primary btn-large' , :role => 'button'%>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-3 col-sm-6 hero-feature">
		<div class="thumbnail">			
			<div class="caption">
				<h4 class="text-center">Quiz</h4>
				<p class="text-muted">
					Take a test and advance your skill level
				</p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<%= link_to "Take Test", quiz_create_path(:test_type => 2) , :class => 'btn btn-primary btn-large' , :role => 'button'%>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="col-md-3 col-sm-6 hero-feature">
		<div class="thumbnail">			
			<div class="caption">
				<h4 class="text-center">Quiz Overview</h4>
				<p class="text-muted">
					View all quizzes taken and related statistics
				</p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<%= link_to "My Quizzes", overview_quiz_path , :class => 'btn btn-primary btn-large' , :role => 'button'%>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="col-md-3 col-sm-6 hero-feature">
		<div class="thumbnail">			
			<div class="caption">
				<h4 class="text-center">Result Overview</h4>
				<p class="text-muted">
					View all quiz results and related statistics
				</p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<%= link_to "My Results", overview_result_path , :class => 'btn btn-primary btn-large' , :role => 'button'%>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
